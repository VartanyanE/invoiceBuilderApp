[{"/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/index.js":"1","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/App.js":"2","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/context/UserContext.js":"3","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/pages/Home.js":"4","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/pages/Invoice.js":"5","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/auth/Login.js":"6","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/auth/Register.js":"7","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/auth/AuthOptions.js":"8","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/utils/API.js":"9","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/grids/Grids.js":"10","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/form/index.js":"11","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/theme.js":"12"},{"size":197,"mtime":1611101809651,"results":"13","hashOfConfig":"14"},{"size":1678,"mtime":1611190881210,"results":"15","hashOfConfig":"14"},{"size":76,"mtime":1611101809651,"results":"16","hashOfConfig":"14"},{"size":700,"mtime":1611264724196,"results":"17","hashOfConfig":"14"},{"size":5999,"mtime":1611191499696,"results":"18","hashOfConfig":"14"},{"size":1315,"mtime":1611101809648,"results":"19","hashOfConfig":"14"},{"size":1900,"mtime":1611101809648,"results":"20","hashOfConfig":"14"},{"size":980,"mtime":1611183382461,"results":"21","hashOfConfig":"14"},{"size":916,"mtime":1611101809652,"results":"22","hashOfConfig":"14"},{"size":1146,"mtime":1611183382462,"results":"23","hashOfConfig":"14"},{"size":1777,"mtime":1611264885327,"results":"24","hashOfConfig":"14"},{"size":327,"mtime":1611264909310,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1kzo7ln",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"28"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/index.js",[],["54","55"],"/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/App.js",[],"/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/context/UserContext.js",[],"/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/pages/Home.js",[],"/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/pages/Invoice.js",["56"],"import React, { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport {\n  createInvoice,\n  getInvoice,\n  searchInvoice,\n  isPastDue,\n} from \"../../utils/API\";\nimport UserContext from \"../../context/UserContext\";\nimport { saveAs } from \"file-saver\";\nimport FileBase from \"react-file-base64\";\nimport moment from \"moment\";\nimport { set } from \"mongoose\";\n\nexport default function Invoice() {\n  const { userData } = useContext(UserContext);\n  const [currentId, setCurrentId] = useState();\n  const [data, setData] = useState([{}]);\n  const [invoice, setInvoice] = useState([{}]);\n  const [search, setSearch] = useState({\n    invoiceNumber: \"\",\n  });\n  const [searchResultsState, setSearchResultsState] = useState([{}]);\n\n  useEffect(() => {\n    getInvoice().then((res) => {\n      setInvoice(res.data);\n      console.log(res.data);\n    });\n  }, [data]);\n\n  function getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const invoiceDueDate = moment().add(data.paymentTerms, \"days\");\n    let taxConversion = data.tax / 100;\n    console.log(taxConversion);\n    let totalPrice = (data.quantity || data.hours) * data.rate;\n    let taxTotal = taxConversion * totalPrice;\n    let finalTotal = totalPrice + taxTotal;\n    console.log(finalTotal);\n\n    let randomInvoiceNumber = getRandomInt(9999, 100000);\n    await createInvoice({\n      invoiceNumber: randomInvoiceNumber,\n      name: data.name,\n      dueDate: invoiceDueDate,\n      tax: data.tax,\n      paymentTerms: data.paymentTerms,\n      pastDue: false,\n\n      description: data.description,\n      hours: data.hours,\n      quantity: data.quantity,\n      rate: data.rate,\n      total: finalTotal,\n\n      selectedFile: data.selectedFile,\n      creator: userData.user.id,\n    });\n    await clearForm();\n  };\n\n  const handlePastDue = async (event) => {\n    event.preventDefault();\n\n    await searchInvoice(search.invoiceNumber).then(({ data }) => {\n      setSearchResultsState(data);\n      setCurrentId(searchResultsState[0]._id);\n      let currentDate = moment();\n      let dueDate = searchResultsState[0].dueDate;\n      console.log(dueDate);\n      if (currentDate.isAfter(dueDate)) {\n        isPastDue(currentId);\n      }\n    });\n  };\n\n  const clearForm = () => {\n    setData({\n      name: \"\",\n      quantity: \"\",\n      tax: \"\",\n      description: \"\",\n      hours: \"\",\n      rate: \"\",\n    });\n  };\n\n  const downloadPDF = async () => {\n    console.log(invoice);\n    let invoiceObject = {\n      invoiceNumber: invoice[0].invoiceNumber,\n      name: invoice[0].name,\n      dueDate: invoice[0].dueDate,\n      description: invoice[0].description,\n      hours: invoice[0].hours,\n      rate: invoice[0].rate,\n      total: invoice[0].total,\n      tax: invoice[0].tax,\n      selectedFile: invoice[0].selectedFile,\n    };\n    console.log(invoiceObject);\n    await axios\n      .post(\"/create-pdf\", invoiceObject)\n      .then(() => axios.get(\"/create-pdf/fetch-pdf\", { responseType: \"blob\" }))\n      .then((res) => {\n        const pdfBlob = new Blob([res.data], { type: \"application/pdf\" });\n\n        saveAs(pdfBlob, \"newPdf.pdf\");\n      });\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <label>Name</label>\n        <input\n          value={data.name}\n          onChange={(e) => setData({ ...data, name: e.target.value })}\n        />\n        <br />\n        <label>Description</label>\n        <input\n          value={data.description}\n          onChange={(e) => setData({ ...data, description: e.target.value })}\n        />\n        <br />\n        <label>Hours</label>\n        <input\n          value={data.hours}\n          onChange={(e) => setData({ ...data, hours: e.target.value })}\n        />\n        <br />\n        <label>Quantity</label>\n        <input\n          value={data.quantity}\n          onChange={(e) => setData({ ...data, quantity: e.target.value })}\n        />\n        <br />\n        <label>Tax</label>\n        <input\n          placeholder=\"%\"\n          value={data.tax}\n          onChange={(e) => setData({ ...data, tax: e.target.value })}\n        />\n        <br />\n        <label>Payment Terms</label>\n        <input\n          value={data.paymentTerms}\n          onChange={(e) => setData({ ...data, paymentTerms: e.target.value })}\n        />\n        <br />\n        <label>Rate</label>\n        <input\n          value={data.rate}\n          onChange={(e) => setData({ ...data, rate: e.target.value })}\n        />{\" \"}\n        <br />\n        Upload a logo{\" \"}\n        <FileBase\n          id=\"upload logo\"\n          type=\"file\"\n          multiple={false}\n          onDone={({ base64 }) => setData({ ...data, selectedFile: base64 })}\n        />{\" \"}\n        <br />\n        <button type=\"submit\">Submit Data</button>\n        <br />\n      </form>\n      <button onClick={downloadPDF}>Download PDF</button>\n      <div>\n        <form>\n          <input\n            placeholder=\"Enter Invoice Number\"\n            value={search.invoiceNumber}\n            onChange={(e) => {\n              setSearch({ ...search, invoiceNumber: e.target.value });\n            }}\n          />\n          <button onClick={handlePastDue}>Search</button>\n        </form>\n      </div>\n\n      <div>\n        {searchResultsState\n          ? searchResultsState.map((results) => (\n            \n              <h2 key={results._id}>\n                Invoice Number: {results.invoiceNumber} <br />\n                Company Name: {results.name}\n                <br />\n                Description: {results.description}\n                <br />\n                Hours: {results.hours}\n                <br />\n                Rate: {results.rate}\n                <br />\n                Total: {results.total}\n                <br />\n                Status: {results.pastDue ? \"Past Due!\" : \"Current\"}\n              </h2>\n            \n            ))\n          : \"\"}\n      </div>\n    </div>\n  );\n}\n","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/auth/Login.js",[],"/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/auth/Register.js",[],"/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/auth/AuthOptions.js",["57"],"import React, { Component, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport UserContext from \"../../context/UserContext\";\nimport \"./Auth.css\";\n\nexport default function AuthOptions() {\n  const history = useHistory();\n\n  const { userData, setUserData } = useContext(UserContext);\n\n  const register = () => history.push(\"/register\");\n  const login = () => history.push(\"/login\");\n  const createInvoice = () => history.push(\"/invoice\");\n  const logout = () => {\n    setUserData({\n      token: undefined,\n      user: undefined,\n    });\n    localStorage.setItem(\"auth-token\", \"\");\n  };\n\n  return (\n    <div className=\"\">\n      {userData.user ? (\n        <>\n          <button onClick={createInvoice}>Create Invoice</button>\n          <button onClick={logout}>Logout</button>\n        </>\n      ) : (\n        <>\n          <button onClick={register}>REGISTER </button>\n          <button onClick={login}>LOGIN </button>\n        </>\n      )}\n    </div>\n  );\n}\n","/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/utils/API.js",[],"/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/grids/Grids.js",[],["58","59"],"/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/components/form/index.js",[],"/Users/sydneykrantz/Desktop/_CODING/INVOICE_BUILDER/invoiceBuilderApp/client/src/theme.js",[],{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","severity":1,"message":"65","line":13,"column":10,"nodeType":"66","messageId":"67","endLine":13,"endColumn":13},{"ruleId":"64","severity":1,"message":"68","line":1,"column":17,"nodeType":"66","messageId":"67","endLine":1,"endColumn":26},{"ruleId":"60","replacedBy":"69"},{"ruleId":"62","replacedBy":"70"},"no-native-reassign",["71"],"no-negated-in-lhs",["72"],"no-unused-vars","'set' is defined but never used.","Identifier","unusedVar","'Component' is defined but never used.",["71"],["72"],"no-global-assign","no-unsafe-negation"]